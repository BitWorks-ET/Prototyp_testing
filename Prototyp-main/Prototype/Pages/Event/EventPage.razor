@page "/Event/{name}"

@inject NavigationManager Navigation

<PageTitle>@name</PageTitle>

<div class="d-flex w-100">
    <div class="w-25">
        <h3>@name</h3>
    </div>
    <div class="w-25 justify-content-center">
        <button @onclick="SignUserUp">Anmelden</button>
    </div>
</div>

<div class="d-flex">
    <div class="p-2">
        <p class="fw-bold">Datum des Events: </p>
    </div>
    <div class="p-2">
        <p>@eventDate</p>
    </div>
    <div class="p-2">
        <p class="fw-bold">Uhrzeit: </p>
    </div>
    <div class="p-2">
        <p>@eventTime</p>
    </div>
    <div class="p-2">
        <p class="fw-bold">Ort der Veranstaltung: </p>
    </div>
    <div class="p-2">
        <p>@location</p>
    </div>
</div>


<h4>Informationen über das Event:</h4>
<p>@infosEvent</p>

@if (userIsOrga)
{
    <div class="popup-overlay">
        <div class="popup-box">
            <button @onclick="EnableEventEdit">Event bearbeiten</button>
        </div>
    </div>
}

@code {
    [Parameter]
    public string name{ get; set;} // ersetzen mit Variable eines Users
    public bool userIsOrga = true;

    public DateOnly eventDate;
    public TimeOnly eventTime;
    public string location = "Da wo du nicht bist";

    private string? infosEvent = "Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla Bla";


    public void EnableEventEdit()
    {
        if (userIsOrga)
        {
            Navigation.NavigateTo($"/EventAdministration/{name}"); // falls übergabe über eine Variable´: eher über ID
        }
    }

    public void SignUserUp()
    {
        //da wir die anmeldeseite noch nicht brauchen, kommt hier die anmeldung rein
        //Navigation.NavigateTo($"/EventSignUp/{name}");
    }
}
